<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CleanAir Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f7fb;
      color: #333;
    }
    header {
      background: linear-gradient(90deg, #1E88E5 0%, #42A5F5 100%);
      color: white;
      padding: 50px 20px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    section {
      padding: 50px 30px;
      max-width: 1100px;
      margin: auto;
      background-color: white;
      margin-top: 30px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
    }
    h2 {
      color: #1E88E5;
      border-left: 5px solid #64B5F6;
      padding-left: 10px;
    }
    .features {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }
    .feature-box {
      flex: 1 1 200px;
      background: #E3F2FD;
      padding: 20px;
      border-radius: 8px;
      border-left: 5px solid #1E88E5;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    }
    footer {
      text-align: center;
      padding: 30px;
      background-color: #E3F2FD;
      color: #333;
      font-size: 14px;
      margin-top: 40px;
    }
    .search-box {
      margin: 40px auto;
      text-align: center;
      padding: 30px;
      background-color: #f9fbff;
      border: 2px solid #bbdefb;
      border-radius: 10px;
      max-width: 600px;
    }
    .search-box input[type="text"] {
      padding: 12px;
      width: 60%;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .search-box button {
      padding: 12px 20px;
      font-size: 16px;
      background-color: #1E88E5;
      color: white;
      border: none;
      border-radius: 6px;
      margin-left: 10px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .search-box button:hover {
      background-color: #1565C0;
    }
    #precautions-output {
      margin-top: 20px;
      padding: 20px;
      background-color: #E3F2FD;
      border-left: 5px solid #1E88E5;
      border-radius: 8px;
      text-align: left;
      display: none;
    }
    #tips-box {
      margin-top: 30px;
      padding: 20px;
      background: #f1f9ff;
      border-left: 5px solid #1E88E5;
      border-radius: 8px;
      display: block;
      color: black;
}

    #tip-box {
      display: block;
      color: black;
      font-weight: 500;
      font-size: 16px;
      transition: opacity 1s ease-in-out; 
      min-height: 40px; 
}

  </style>
</head>
<body>
  <header>
    <h1>CleanAir Tracker</h1>
    <p>Stay Informed. Breathe Better. Live Smarter.</p>
  </header>

  <section>
  <h2>Search City Precautions</h2>
  <div class="search-box">
    <input type="text" id="location-input" placeholder="Enter city (e.g., Delhi)" />
    <button onclick="showPrecautions()">Search</button>
  </div>

  <!-- Precautions results will show here -->
  <div id="precautions-output"></div>

  <!-- üí° Tips Section -->
  <div id="tips-box">
    <h3>üí° Did You Know?</h3>
    <p id="tip-box">Loading tip...</p>
  </div>
</section>

  <section>
    <h2>About the Project</h2>
    <p>CleanAir Tracker is a solution to monitor air pollution trends and provide users with localized health precautions based on air quality conditions in urban environments. The goal is to raise awareness, encourage behavioral change, and reduce health risks associated with poor air quality.</p>
  </section>

  <section>
    <h2>Our Mission</h2>
    <p>To empower individuals and communities with accessible, location-based air quality insights and safety recommendations‚Äîso everyone can make informed, healthy choices every day.</p>
  </section>

  <section>
    <h2>Key Features</h2>
    <div class="features">
      <div class="feature-box">üìä Location-specific precaution lookup</div>
      <div class="feature-box">üß† Clean, intuitive interface</div>
      <div class="feature-box">üì± Mobile-friendly and responsive design</div>
      <div class="feature-box">üîí 100% software-based, privacy-conscious</div>
    </div>
  </section>

  <section>
    <h2>Why This Matters</h2>
    <p>Air pollution is a silent crisis affecting millions. This project delivers reliable, actionable guidance to the public‚Äîespecially in urban areas‚Äîthrough a lightweight, fast, and privacy-conscious platform. It's designed for scalability, awareness, and accessibility.</p>
  </section>

  <section>
    <h2>Development Stage</h2>
    <p>Currently at <strong>Technology Readiness Level 1 (TRL 1)</strong> ‚Äî initial concept and software framework developed. Ready to expand into city-wide databases and public deployment platforms.</p>
  </section>

  <section>
    <h2>Support & Collaboration</h2>
    <p>This project is independently developed with mentorship from academic advisors and is supported by the college‚Äôs Innovation/Entrepreneurship Cell. Open to collaborations with researchers, developers, and environmental organizations.</p>
  </section>

  <footer>
    <p>&copy; 2025 CleanAir Tracker. All rights reserved.</p>
  </footer>

 <script>
  async function showPrecautions() {
    const location = document.getElementById("location-input").value.trim().toLowerCase();
    const outputDiv = document.getElementById("precautions-output");
  
    if (!location) {
      outputDiv.innerHTML = "<strong>Please enter a city name.</strong>";
      outputDiv.style.display = "block";
      return;
  }

  try {
    const response = await fetch("data.json");
    const allData = await response.json();

    const cityMatch = Object.keys(allData).find(city => city.toLowerCase() === location);

    if (!cityMatch) {
      outputDiv.innerHTML = `<h3>No precautions found for "${location}".</h3>`;
      outputDiv.style.display = "block";
      return;
    }

    const cityInfo = allData[cityMatch];
    const precautions = cityInfo.precautions;
    const aqi = cityInfo.aqi;

    let aqiLevel = "";
    let aqiColor = "";

    if (aqi <= 50) {
      aqiLevel = "Good"; aqiColor = "green";
    } else if (aqi <= 100) {
      aqiLevel = "Moderate"; aqiColor = "yellow";
    } else if (aqi <= 150) {
      aqiLevel = "Unhealthy for Sensitive Groups"; aqiColor = "orange";
    } else if (aqi <= 200) {
      aqiLevel = "Unhealthy"; aqiColor = "red";
    } else if (aqi <= 300) {
      aqiLevel = "Very Unhealthy"; aqiColor = "purple";
    } else {
      aqiLevel = "Hazardous"; aqiColor = "maroon";
    }

    outputDiv.innerHTML = `
      <h3>Precautions for ${cityMatch}:</h3>
      <p><strong>AQI:</strong> <span style="color:${aqiColor}; font-weight:bold;">
        ${aqi} (${aqiLevel})
      </span></p>
      <ul>${precautions.map(p => `<li>${p}</li>`).join("")}</ul>
    `;
  } catch (error) {
    outputDiv.innerHTML = `<h3>‚ö†Ô∏è Error loading data. Please try again later.</h3>`;
  }

  outputDiv.style.display = "block";
}

// üí° Tips Section
const tips = [
  "Indoor plants like peace lilies, spider plants, and snake plants can help improve air quality by absorbing pollutants.",
  "Switching to public transport can cut your personal carbon footprint by up to 30%.",
  "Keeping windows closed during high pollution days helps reduce indoor exposure.",
  "Staying hydrated helps your body flush out pollution-related toxins.",
  "Air purifiers with HEPA filters can reduce indoor pollutants like dust, pollen, and smoke.",
  "Carpooling with friends or colleagues reduces both traffic congestion and air pollution.",
  "Burning candles and incense indoors can significantly worsen indoor air quality.",
  "Using an exhaust fan while cooking helps remove harmful gases like nitrogen dioxide.",
  "Electric vehicles produce zero tailpipe emissions, improving urban air quality.",
  "Household dust can carry pollutants‚Äîregular vacuuming with a HEPA filter helps reduce it.",
  "Children and the elderly are more vulnerable to poor air quality‚Äîextra precautions are important.",
  "Reducing meat consumption can lower methane and greenhouse gas emissions linked to livestock farming.",
  "Pollution levels are usually lower after heavy rainfall, as rain washes particulates from the air.",
  "Smog tends to be worst on sunny, hot days when pollutants react with sunlight.",
  "Switching to energy-efficient appliances reduces emissions from power plants.",
  "Volatile Organic Compounds (VOCs) from paints and cleaners contribute to indoor air pollution.",
  "Second-hand smoke releases hundreds of toxic chemicals into the air, even indoors.",
  "Short trips pollute the most‚Äîwalking or cycling for local errands makes a big difference.",
  "Idling your car engine for more than 10 seconds wastes fuel and adds unnecessary pollution.",
  "Air quality often improves significantly in early mornings and late nights due to lower traffic.",
  "Trees not only provide oxygen but also trap dust and absorb harmful gases.",
  "Avoid using diesel generators whenever possible‚Äîthey release large amounts of particulate matter.",
  "Switching to renewable energy sources like solar and wind improves both climate and air quality.",
  "Poor ventilation indoors can trap pollutants‚Äîopen windows on low-pollution days.",
  "Air quality inside vehicles can sometimes be worse than outside due to trapped emissions.",
  "Wood-burning stoves release fine particulate matter, which can be harmful to lungs.",
  "High-efficiency furnace and AC filters help trap indoor air pollutants.",
  "Walking on quieter side streets can reduce your pollution exposure by up to 60%.",
  "Fine particles (PM2.5) are so small they can enter the bloodstream through your lungs."
];

let usedTips = [];
let currentTip = "";

// Pick a new tip without immediate repeats
function getRandomTip() {
  if (usedTips.length === tips.length) usedTips = [];
  let newTip;
  do {
    newTip = tips[Math.floor(Math.random() * tips.length)];
  } while (newTip === currentTip || usedTips.includes(newTip));
  usedTips.push(newTip);
  currentTip = newTip;
  return newTip;
}

// Show next tip with fade animation
function showNextTip() {
  const tipBox = document.getElementById("tip-box");
  if (!tipBox) return;
  
  // Fade out
  tipBox.style.opacity = 0;

  // Update text after fade out
  setTimeout(() => {
    tipBox.textContent = getRandomTip();
    tipBox.style.opacity = 1; // Fade back in
  }, 500); // half the transition time for smooth overlap
}

// Initialise tip rotation on page load
window.addEventListener("DOMContentLoaded", () => {
  showNextTip();
  setInterval(showNextTip, 10000); // Refresh every 10 seconds
});
</script>
</body>
</html>
